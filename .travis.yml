language: python
python:
  - "2.6"
  - "2.7"
before_install:
  - sudo add-apt-repository -y "deb http://archive.ubuntu.com/ubuntu/ saucy main universe"
 - sudo apt-get update
 - sudo apt-get install libquantlib0-dev
 - sudo apt-get install -qq python-numpy
 - pip install cython --use-mirrors
 - if [[ $TRAVIS_PYTHON_VERSION == '2.6' ]]; then pip install unittest2; pip install pandas --use-mirrors; fi
# command to install dependencies
install:
  - "pip install ."
# command to run tests
script:
  # Download spark 1.0.0
  - "wget http://d3kbcqa49mib13.cloudfront.net/spark-1.0.0-bin-hadoop2.tgz"
  - "tar -xvf spark-1.0.0-bin-hadoop2.tgz"
  # Run the tests
  - "SPARK_HOME=./spark-1.0.0-bin-hadoop2/ ./run-tests"